// Multilingual Support System for Punjab Learning Platform
const translations = {
    english: {
        // Login Page
        app_name: "Nabha Learning App",
        app_subtitle: "Rural Education Platform - SIH 2025",
        choose_language: "Choose Language",
        choose_profession: "Choose Profession",
        student: "Student ЁЯСитАНЁЯОУ",
        teacher: "Teacher ЁЯСитАНЁЯПл",
        full_name: "Full Name",
        username: "Username",
        password: "Password",
        login: "Login",
        forgot_password: "Forgot Password?",
        demo_credentials: "Demo Credentials",
        students: "Students",
        offline_mode: "ЁЯФ┤ Offline Mode - Limited functionality available",
        enter_full_name: "Enter your Full Name",
        
        // Dashboard
        dashboard: "Dashboard",
        welcome: "Welcome",
        total_lessons: "Total Lessons",
        completed: "Completed",
        downloaded: "Downloaded",
        assignments_done: "Assignments Done",
        recent_activity: "Recent Activity",
        review: "Review",
        
        // Navigation
        subjects: "ЁЯУЪ Subjects",
        lessons: "ЁЯОж Lessons", 
        assignments: "ЁЯУЭ Assignments",
        progress: "ЁЯУК Progress",
        offline: "ЁЯУ▒ Offline",
        digital_literacy: "ЁЯТ╗ Digital Literacy",
        translator: "ЁЯМР Translator",
        
        // Student Dashboard
        subjects_materials: "Subjects & Study Materials",
        video_lessons: "Video Lessons",
        assignments_quizzes: "Assignments & Quizzes",
        learning_progress: "Learning Progress",
        offline_content: "Offline Content",
        download_pdf: "ЁЯУЦ Download PDF",
        take_test: "ЁЯУЭ Take Test",
        watch_now: "Watch Now",
        start_assignment: "Start Assignment",
        take_quiz: "Take Quiz",
        
        // Teacher Dashboard
        classroom_management: "Classroom Management",
        student_progress: "Student Progress",
        upload_content: "Upload Content",
        create_classroom: "Create Classroom",
        manage_students: "Manage Students",
        about_student: "About Student",
        
        // Digital Literacy
        basic_computer: "Basic Computer Skills",
        internet_usage: "Internet Usage",
        digital_safety: "Digital Safety",
        online_learning: "Online Learning Tips",
        
        // Subjects
        mathematics: "ЁЯУК Mathematics",
        science: "ЁЯФм Science", 
        english: "ЁЯУЪ English",
        history: "ЁЯПЫя╕П History",
        computer_science: "ЁЯТ╗ Computer Science",
        geography: "ЁЯМН Geography",
        
        // Common
        online: "ЁЯЯв Online",
        offline_status: "ЁЯФ┤ Offline",
        logout: "Logout",
        due: "Due",
        class: "Class"
    },
    
    hindi: {
        // Login Page
        app_name: "рдирд╛рднрд╛ рд╢рд┐рдХреНрд╖рд╛ рдРрдк",
        app_subtitle: "рдЧреНрд░рд╛рдореАрдг рд╢рд┐рдХреНрд╖рд╛ рдордВрдЪ - SIH 2025",
        choose_language: "рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВ",
        choose_profession: "рдкреЗрд╢рд╛ рдЪреБрдиреЗрдВ", 
        student: "рдЫрд╛рддреНрд░ ЁЯСитАНЁЯОУ",
        teacher: "рд╢рд┐рдХреНрд╖рдХ ЁЯСитАНЁЯПл",
        full_name: "рдкреВрд░рд╛ рдирд╛рдо",
        username: "рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо",
        password: "рдкрд╛рд╕рд╡рд░реНрдб",
        login: "рд▓реЙрдЧрд┐рди",
        forgot_password: "рдкрд╛рд╕рд╡рд░реНрдб рднреВрд▓ рдЧрдП?",
        demo_credentials: "рдбреЗрдореЛ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓",
        students: "рдЫрд╛рддреНрд░",
        offline_mode: "ЁЯФ┤ рдСрдлрд╝рд▓рд╛рдЗрди рдореЛрдб - рд╕реАрдорд┐рдд рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЙрдкрд▓рдмреНрдз",
        enter_full_name: "рдЕрдкрдирд╛ рдкреВрд░рд╛ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВ",
        
        // Dashboard
        dashboard: "рдбреИрд╢рдмреЛрд░реНрдб",
        welcome: "рд╕реНрд╡рд╛рдЧрдд",
        total_lessons: "рдХреБрд▓ рдкрд╛рда",
        completed: "рдкреВрд░реНрдг",
        downloaded: "рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП",
        assignments_done: "рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдкреВрд░реНрдг",
        recent_activity: "рд╣рд╛рд▓ рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐",
        review: "рд╕рдореАрдХреНрд╖рд╛",
        
        // Navigation
        subjects: "ЁЯУЪ рд╡рд┐рд╖рдп",
        lessons: "ЁЯОж рдкрд╛рда",
        assignments: "ЁЯУЭ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ",
        progress: "ЁЯУК рдкреНрд░рдЧрддрд┐",
        offline: "ЁЯУ▒ рдСрдлрд╝рд▓рд╛рдЗрди",
        digital_literacy: "ЁЯТ╗ рдбрд┐рдЬрд┐рдЯрд▓ рд╕рд╛рдХреНрд╖рд░рддрд╛",
        translator: "ЁЯМР рдЕрдиреБрд╡рд╛рджрдХ",
        
        // Student Dashboard  
        subjects_materials: "рд╡рд┐рд╖рдп рдФрд░ рдЕрдзреНрдпрдпрди рд╕рд╛рдордЧреНрд░реА",
        video_lessons: "рд╡реАрдбрд┐рдпреЛ рдкрд╛рда",
        assignments_quizzes: "рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдФрд░ рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА",
        learning_progress: "рд╕реАрдЦрдиреЗ рдХреА рдкреНрд░рдЧрддрд┐",
        offline_content: "рдСрдлрд╝рд▓рд╛рдЗрди рд╕рд╛рдордЧреНрд░реА",
        download_pdf: "ЁЯУЦ PDF рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ",
        take_test: "ЁЯУЭ рдкрд░реАрдХреНрд╖рд╛ рджреЗрдВ",
        watch_now: "рдЕрднреА рджреЗрдЦреЗрдВ",
        start_assignment: "рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╢реБрд░реВ рдХрд░реЗрдВ",
        take_quiz: "рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА рд▓реЗрдВ",
        
        // Teacher Dashboard
        classroom_management: "рдХрдХреНрд╖рд╛ рдкреНрд░рдмрдВрдзрди",
        student_progress: "рдЫрд╛рддреНрд░ рдкреНрд░рдЧрддрд┐",
        upload_content: "рд╕рд╛рдордЧреНрд░реА рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ",
        create_classroom: "рдХрдХреНрд╖рд╛ рдмрдирд╛рдПрдВ",
        manage_students: "рдЫрд╛рддреНрд░реЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди",
        about_student: "рдЫрд╛рддреНрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ",
        
        // Digital Literacy
        basic_computer: "рдмреБрдирд┐рдпрд╛рджреА рдХрдВрдкреНрдпреВрдЯрд░ рдХреМрд╢рд▓",
        internet_usage: "рдЗрдВрдЯрд░рдиреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ", 
        digital_safety: "рдбрд┐рдЬрд┐рдЯрд▓ рд╕реБрд░рдХреНрд╖рд╛",
        online_learning: "рдСрдирд▓рд╛рдЗрди рд╕реАрдЦрдиреЗ рдХреЗ рд╕реБрдЭрд╛рд╡",
        
        // Subjects
        mathematics: "ЁЯУК рдЧрдгрд┐рдд",
        science: "ЁЯФм рд╡рд┐рдЬреНрдЮрд╛рди",
        english: "ЁЯУЪ рдЕрдВрдЧреНрд░реЗрдЬреА", 
        history: "ЁЯПЫя╕П рдЗрддрд┐рд╣рд╛рд╕",
        computer_science: "ЁЯТ╗ рдХрдВрдкреНрдпреВрдЯрд░ рд╡рд┐рдЬреНрдЮрд╛рди",
        geography: "ЁЯМН рднреВрдЧреЛрд▓",
        
        // Common
        online: "ЁЯЯв рдСрдирд▓рд╛рдЗрди",
        offline_status: "ЁЯФ┤ рдСрдлрд╝рд▓рд╛рдЗрди",
        logout: "рд▓реЙрдЧрдЖрдЙрдЯ",
        due: "рджреЗрдп",
        class: "рдХрдХреНрд╖рд╛"
    },
    
    punjabi: {
        // Login Page
        app_name: "риири╛ринри╛ ри╕ри┐рй▒риЦри┐риЖ риРрик",
        app_subtitle: "рикри┐рй░рибрйА ри╕ри┐рй▒риЦри┐риЖ рикри▓рйЗриЯрилри╛ри░рио - SIH 2025",
        choose_language: "ринри╛ри╕ри╝ри╛ риЪрйБригрйЛ",
        choose_profession: "рикрйЗри╕ри╝ри╛ риЪрйБригрйЛ",
        student: "ри╡ри┐рижри┐риЖри░риерйА ЁЯСитАНЁЯОУ", 
        teacher: "риЕризри┐риЖрикриХ ЁЯСитАНЁЯПл",
        full_name: "рикрйВри░ри╛ риири╛рио",
        username: "рипрйВриЬри╝ри░ риири╛рио",
        password: "рикри╛ри╕ри╡ри░риб",
        login: "ри▓ри╛риЧриЗрии",
        forgot_password: "рикри╛ри╕ри╡ри░риб ринрйБрй▒ри▓ риЧриП?",
        demo_credentials: "рибрйИриорйЛ рикрйНри░риори╛риг рикрй▒ридри░",
        students: "ри╡ри┐рижри┐риЖри░риерйА",
        offline_mode: "ЁЯФ┤ риФрилри▓ри╛риИрии риорйЛриб - ри╕рйАриорид ри╕рйБри╡ри┐ризри╛ри╡ри╛риВ риЙрикри▓римриз",
        enter_full_name: "риЖрикригри╛ рикрйВри░ри╛ риири╛рио рижри╛риЦри▓ риХри░рйЛ",
        
        // Dashboard
        dashboard: "рибрйИри╕ри╝римрйЛри░риб",
        welcome: "риЬрйА риЖриЗриЖриВ риирйВрй░",
        total_lessons: "риХрйБрй▒ри▓ рикри╛риа",
        completed: "рикрйВри░рйЗ ри╣рйЛриП",
        downloaded: "рибри╛риЙриири▓рйЛриб риХрйАридрйЗ",
        assignments_done: "риЕри╕ри╛риИриириорйИриВриЯ рикрйВри░рйЗ",
        recent_activity: "ри╣ри╛ри▓рйАриЖ риЧридрйАри╡ри┐ризрйА",
        review: "ри╕риорйАриЦри┐риЖ",
        
        // Navigation
        subjects: "ЁЯУЪ ри╡ри┐ри╕ри╝рйЗ",
        lessons: "ЁЯОж рикри╛риа",
        assignments: "ЁЯУЭ риЕри╕ри╛риИриириорйИриВриЯ",
        progress: "ЁЯУК рикрйНри░риЧридрйА", 
        offline: "ЁЯУ▒ риФрилри▓ри╛риИрии",
        digital_literacy: "ЁЯТ╗ рибри┐риЬрйАриЯри▓ ри╕ри╛риЦри░ридри╛",
        translator: "ЁЯМР риЕриирйБри╡ри╛рижриХ",
        
        // Student Dashboard
        subjects_materials: "ри╡ри┐ри╕ри╝рйЗ риЕридрйЗ рикри╛риа ри╕риорй▒риЧри░рйА",
        video_lessons: "ри╡рйАрибрйАриУ рикри╛риа",
        assignments_quizzes: "риЕри╕ри╛риИриириорйИриВриЯ риЕридрйЗ рикрйНри░ри╕ри╝рии-риЙрй▒ридри░",
        learning_progress: "ри╕ри┐рй▒риЦриг рижрйА рикрйНри░риЧридрйА",
        offline_content: "риФрилри▓ри╛риИрии ри╕риорй▒риЧри░рйА",
        download_pdf: "ЁЯУЦ PDF рибри╛риЙриири▓рйЛриб риХри░рйЛ",
        take_test: "ЁЯУЭ риЯрйИри╕риЯ ри▓риУ",
        watch_now: "ри╣рйБригрйЗ рижрйЗриЦрйЛ",
        start_assignment: "риЕри╕ри╛риИриириорйИриВриЯ ри╕ри╝рйБри░рйВ риХри░рйЛ",
        take_quiz: "рикрйНри░ри╕ри╝рии-риЙрй▒ридри░ ри▓риУ",
        
        // Teacher Dashboard
        classroom_management: "риХри▓ри╛ри╕ри░рйВрио рикрйНри░римрй░ризрии",
        student_progress: "ри╡ри┐рижри┐риЖри░риерйА рикрйНри░риЧридрйА",
        upload_content: "ри╕риорй▒риЧри░рйА риЕрй▒рикри▓рйЛриб риХри░рйЛ",
        create_classroom: "риХри▓ри╛ри╕ри░рйВрио римригри╛риУ",
        manage_students: "ри╡ри┐рижри┐риЖри░риерйАриЖриВ рижри╛ рикрйНри░римрй░ризрии",
        about_student: "ри╡ри┐рижри┐риЖри░риерйА римри╛ри░рйЗ",
        
        // Digital Literacy
        basic_computer: "римрйБриири┐риЖрижрйА риХрй░рикри┐риКриЯри░ ри╣рйБриири░",
        internet_usage: "риЗрй░риЯри░риирйИриЯ рижрйА ри╡ри░ридрйЛриВ",
        digital_safety: "рибри┐риЬрйАриЯри▓ ри╕рйБри░рй▒риЦри┐риЖ",
        online_learning: "риФриири▓ри╛риИрии ри╕ри┐рй▒риЦриг рижрйЗ ри╕рйБриЭри╛риЕ",
        
        // Subjects
        mathematics: "ЁЯУК риЧригри┐рид",
        science: "ЁЯФм ри╡ри┐риЧри┐риЖрии", 
        english: "ЁЯУЪ риЕрй░риЧрйНри░рйЗриЬри╝рйА",
        history: "ЁЯПЫя╕П риЗридри┐ри╣ри╛ри╕",
        computer_science: "ЁЯТ╗ риХрй░рикри┐риКриЯри░ ри╕ри╛риЗрй░ри╕",
        geography: "ЁЯМН ринрйВриЧрйЛри▓",
        
        // Common
        online: "ЁЯЯв риФриири▓ри╛риИрии",
        offline_status: "ЁЯФ┤ риФрилри▓ри╛риИрии",
        logout: "ри▓ри╛риЧриЖриЙриЯ",
        due: "риири┐ри░ризри╛ри░рид",
        class: "риЬриори╛рид"
    }
};

// Language Management System
class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('selectedLanguage') || 'english';
        this.init();
    }
    
    init() {
        // Set initial language on page load
        this.updatePageLanguage();
        
        // Add event listeners for language selection
        document.addEventListener('DOMContentLoaded', () => {
            this.setupLanguageListeners();
        });
    }
    
    setupLanguageListeners() {
        const languageInputs = document.querySelectorAll('input[name="language"]');
        languageInputs.forEach(input => {
            input.addEventListener('change', (e) => {
                this.setLanguage(e.target.value);
            });
        });
        
        // Set the correct radio button based on stored language
        const savedLangInput = document.querySelector(`input[name="language"][value="${this.currentLanguage}"]`);
        if (savedLangInput) {
            savedLangInput.checked = true;
        }
    }
    
    setLanguage(language) {
        this.currentLanguage = language;
        localStorage.setItem('selectedLanguage', language);
        this.updatePageLanguage();
        
        // Update form placeholders based on user type
        this.updateFormPlaceholders();
    }
    
    updatePageLanguage() {
        const elementsToTranslate = document.querySelectorAll('[data-translate]');
        
        elementsToTranslate.forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[this.currentLanguage] && translations[this.currentLanguage][key]) {
                element.textContent = translations[this.currentLanguage][key];
            }
        });
        
        // Update placeholders
        const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
        placeholderElements.forEach(element => {
            const key = element.getAttribute('data-translate-placeholder');
            if (translations[this.currentLanguage] && translations[this.currentLanguage][key]) {
                element.placeholder = translations[this.currentLanguage][key];
            }
        });
        
        // Update document title
        if (document.title.includes('Nabha Learning App')) {
            document.title = `${translations[this.currentLanguage].app_name || 'Nabha Learning App'}`;
        }
    }
    
    updateFormPlaceholders() {
        const userInput = document.querySelector('.User');
        const passwordInput = document.querySelector('.pwd');
        const userType = document.querySelector('input[name="userType"]:checked')?.value;
        
        if (userInput && passwordInput && userType) {
            if (userType === 'teacher') {
                userInput.placeholder = "teach1345";
                passwordInput.placeholder = "teach@123";
            } else {
                userInput.placeholder = "student123";
                passwordInput.placeholder = "demo@123";
            }
        }
    }
    
    getCurrentLanguage() {
        return this.currentLanguage;
    }
    
    translate(key) {
        return translations[this.currentLanguage][key] || key;
    }
    
    // Method for real-time translation (for translator component)
    translateText(text, targetLanguage = 'punjabi') {
        // This would integrate with a translation API
        // For now, returning a mock translation
        if (targetLanguage === 'punjabi') {
            // Mock translation to Punjabi
            const mockTranslations = {
                'hello': 'ри╕рид ри╕рйНри░рйА риЕриХри╛ри▓',
                'thank you': 'ризрй░риири╡ри╛риж',
                'good morning': 'ри╕рйБрикри░ринри╛рид',
                'how are you': 'ридрйБри╕рйАриВ риХри┐ри╡рйЗриВ ри╣рйЛ',
                'education': 'ри╕ри┐рй▒риЦри┐риЖ',
                'learning': 'ри╕ри┐риЦри▓ри╛риИ',
                'student': 'ри╡ри┐рижри┐риЖри░риерйА',
                'teacher': 'риЕризри┐риЖрикриХ',
                'book': 'риХри┐ридри╛рим',
                'study': 'рикрйЬри╝ри╛риИ'
            };
            
            const lowerText = text.toLowerCase();
            return mockTranslations[lowerText] || `[риЕриирйБри╡ри╛риж: ${text}]`;
        }
        return text;
    }
}

// Initialize Language Manager
const languageManager = new LanguageManager();

// Export for use in other scripts
window.languageManager = languageManager;